<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow">
    <title>WriteMyPDF – Handwritten Assignment Generator</title>
    <meta name="description"
        content="Upload your assignment PDF, and get a realistic handwritten-style solution — complete with your name and roll no. Perfect for students in a hurry!">
    <link rel="canonical" href="https://www.writemypdf.online" />
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.writemypdf.online">
    <meta property="og:title" content="WriteMyPDF – AI Handwritten Assignment Generator">
    <meta property="og:description"
        content="Get your assignment solved and converted into a handwritten-style PDF instantly. Built for students, by a student.">
    <meta property="og:image" content="https://www.writemypdf.online/preview.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://www.writemypdf.online">
    <meta name="twitter:title" content="WriteMyPDF – AI Handwritten Assignment Generator">
    <meta name="twitter:description"
        content="Upload your assignment, get handwritten-style answers with name/roll number. No pen needed!">
    <meta name="twitter:image" content="https://www.writemypdf.online/preview.png">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4361ee',
                        secondary: '#3f37c9',
                        accent: '#4cc9f0',
                        dark: '#0f172a',
                        light: '#f8fafc'
                    },
                    fontFamily: {
                        'sans': ['Poppins', 'sans-serif']
                    }
                }
            },
            darkMode: 'class'
        }
    </script>
    <style>
        .handwriting-1 {
            font-family: 'Caveat', cursive;
            font-size: 1.2rem;
        }

        .handwriting-2 {
            font-family: 'Dancing Script', cursive;
            font-size: 1.2rem;
        }

        .handwriting-3 {
            font-family: 'Shadows Into Light', cursive;
            font-size: 1.1rem;
        }

        .handwriting-4 {
            font-family: 'Pacifico', cursive;
            font-size: 1.1rem;
        }

        .handwriting-5 {
            font-family: 'Indie Flower', cursive;
            font-size: 1.1rem;
        }

        /* File upload styling */
        .file-upload {
            border: 2px dashed #cbd5e1;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
        }

        .file-upload.active {
            border-color: #4361ee;
            background-color: rgba(67, 97, 238, 0.05);
        }

        .transition-smooth {
            transition: all 0.3s ease-in-out;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        .animate-pulse {
            animation: pulse 2s infinite;
        }

        .dot-flashing {
            position: relative;
            width: 10px;
            height: 10px;
            border-radius: 5px;
            background-color: #4361ee;
            color: #4361ee;
            animation: dotFlashing 1s infinite linear alternate;
            animation-delay: 0.5s;
        }

        .dot-flashing::before,
        .dot-flashing::after {
            content: '';
            display: inline-block;
            position: absolute;
            top: 0;
        }

        .dot-flashing::before {
            left: -15px;
            width: 10px;
            height: 10px;
            border-radius: 5px;
            background-color: #4361ee;
            color: #4361ee;
            animation: dotFlashing 1s infinite alternate;
            animation-delay: 0s;
        }

        .dot-flashing::after {
            left: 15px;
            width: 10px;
            height: 10px;
            border-radius: 5px;
            background-color: #4361ee;
            color: #4361ee;
            animation: dotFlashing 1s infinite alternate;
            animation-delay: 1s;
        }

        @keyframes dotFlashing {
            0% {
                background-color: #4361ee;
            }

            50%,
            100% {
                background-color: rgba(67, 97, 238, 0.2);
            }
        }

        .handwriting-card {
            position: relative;
            overflow: hidden;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            height: 100%;
            border: 2px solid #e2e8f0;
        }

        .handwriting-card:hover,
        .handwriting-card.selected {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(67, 97, 238, 0.1);
            border-color: #4361ee;
        }

        .handwriting-preview {
            position: relative;
            height: 100px;
            padding: 12px;
            background: linear-gradient(to bottom, #f8fafc, #ffffff);
            color: black;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .handwriting-preview p {
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            text-align: center;
            margin: 0;
        }

        .progress-container {
            width: 100%;
            background-color: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
            height: 8px;
            max-width: 500px;
            margin: 0 auto 1.5rem;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #4361ee, #4cc9f0);
            width: 0%;
            transition: width 0.3s ease;
        }

        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .hero-gradient {
            background: linear-gradient(135deg, #4361ee, #3a0ca3);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .ink-swatch {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 10px;
            border: 2px solid #e2e8f0;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .ink-swatch.selected {
            border-color: #4361ee;
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.3);
        }

        .ink-swatch.black {
            background: linear-gradient(135deg, #333, #000);
        }

        .ink-swatch.blue {
            background: linear-gradient(135deg, #4361ee, #3a0ca3);
        }

        @media (max-width: 640px) {
            .compact-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .handwriting-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
    </style>
</head>

<body
    class="font-sans bg-gradient-to-br from-blue-50 to-indigo-50 text-gray-800 dark:from-gray-900 dark:to-gray-800 dark:text-gray-100 min-h-screen flex flex-col">
    <header class="sticky top-0 z-50 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm shadow-sm transition-smooth">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between">
            <a href="/" class="block">
                <div class="flex items-center space-x-3">
                    <div
                        class="bg-gradient-to-r from-primary to-accent w-10 h-10 rounded-lg flex items-center justify-center">
                        <i class="fas fa-pen text-white text-lg"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold">WriteMyPDF</h1>
                        <p class="text-xs text-gray-500 dark:text-gray-400">AI-Generated Handwritten Solutions</p>
                    </div>
                </div>
            </a>

            <div class="flex items-center space-x-4">
                <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700">
                    <i class="fas fa-moon dark:hidden"></i>
                    <i class="fas fa-sun hidden dark:block"></i>
                </button>
            </div>
        </div>
    </header>

    <main class="flex-grow container mx-auto px-4 py-6 max-w-4xl">
        <section class="text-center mb-6">
            <h1 class="text-3xl md:text-4xl font-bold mb-3 hero-gradient">Create Handwritten Assignments</h1>
            <p class="text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">
                Upload your assignment questions and get AI-generated handwritten solutions
            </p>
        </section>
        <section id="upload-section" class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-5 mb-6 transition-smooth">
            <form id="assignment-form" method="POST" enctype="multipart/form-data" class="space-y-5">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 compact-grid">
                    <div>
                        <label for="name" class="block text-sm font-medium mb-2">Full Name</label>
                        <input type="text" id="name" name="name" required
                            class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-primary focus:border-transparent"
                            placeholder="Enter your full name">
                    </div>

                    <div>
                        <label for="rollno" class="block text-sm font-medium mb-2">Roll Number</label>
                        <input type="text" id="rollno" name="roll" required
                            class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-transparent focus:ring-2 focus:ring-primary focus:border-transparent"
                            placeholder="Enter your roll number">
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-medium mb-2">Upload Assignment Questions</label>
                    <div class="file-upload p-6 text-center cursor-pointer relative" id="file-upload-container">
                        <input type="file" id="file" name="file" class="hidden" accept=".pdf,.jpg,.jpeg,.png">
                        <div class="flex flex-col items-center justify-center" id="upload-initial">
                            <i class="fas fa-cloud-upload-alt text-3xl text-primary mb-3"></i>
                            <p class="font-medium">Click to upload file</p>
                            <p class="text-sm text-gray-500 mt-1">Supports PDF, JPG, PNG (Max 5MB)</p>
                        </div>
                        <div class="hidden flex-col items-center justify-center" id="upload-success">
                            <i class="fas fa-check-circle text-3xl text-green-500 mb-3"></i>
                            <p class="font-medium" id="file-name">assignment.pdf</p>
                            <p class="text-sm text-gray-500 mt-1">Successfully uploaded!</p>
                            <button type="button" class="text-red-500 mt-2 text-sm" id="remove-file">
                                <i class="fas fa-times mr-1"></i> Remove file
                            </button>
                        </div>
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-medium mb-2">Select Handwriting Style</label>
                    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3 handwriting-grid">
                        <div class="handwriting-card" data-style="1">
                            <div class="handwriting-preview">
                                <p class="handwriting-1">The quick brown fox jumps over the lazy dog</p>
                            </div>
                            <div class="p-3 bg-gray-50 dark:bg-gray-700 border-t border-gray-100 dark:border-gray-600">
                                <p class="text-xs text-center font-medium">Style 1 (Recommended)</p>
                            </div>
                        </div>
                        <div class="handwriting-card" data-style="2">
                            <div class="handwriting-preview">
                                <p class="handwriting-2">The quick brown fox jumps over the lazy dog</p>
                            </div>
                            <div class="p-3 bg-gray-50 dark:bg-gray-700 border-t border-gray-100 dark:border-gray-600">
                                <p class="text-xs text-center font-medium">Style 2</p>
                            </div>
                        </div>
                        <div class="handwriting-card" data-style="3">
                            <div class="handwriting-preview">
                                <p class="handwriting-3">The quick brown fox jumps over the lazy dog</p>
                            </div>
                            <div class="p-3 bg-gray-50 dark:bg-gray-700 border-t border-gray-100 dark:border-gray-600">
                                <p class="text-xs text-center font-medium">Style 3</p>
                            </div>
                        </div>
                        <div class="handwriting-card" data-style="4">
                            <div class="handwriting-preview">
                                <p class="handwriting-4">The quick brown fox jumps over the lazy dog</p>
                            </div>
                            <div class="p-3 bg-gray-50 dark:bg-gray-700 border-t border-gray-100 dark:border-gray-600">
                                <p class="text-xs text-center font-medium">Style 4</p>
                            </div>
                        </div>
                        <div class="handwriting-card" data-style="5">
                            <div class="handwriting-preview">
                                <p class="handwriting-5">The quick brown fox jumps over the lazy dog</p>
                            </div>
                            <div class="p-3 bg-gray-50 dark:bg-gray-700 border-t border-gray-100 dark:border-gray-600">
                                <p class="text-xs text-center font-medium">Style 5</p>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" id="selected-handwriting" name="font" value="handwriting1">
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">Select Background Style</label>
                    <div class="flex flex-wrap gap-3">
                        <div class="bg-card flex-1 min-w-[140px]">
                            <input type="radio" name="background" id="blank-bg" value="blank" class="hidden peer"
                                checked>
                            <label for="blank-bg"
                                class="flex flex-col items-center p-3 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer peer-checked:border-primary peer-checked:ring-2 peer-checked:ring-primary">
                                <div class="bg-white w-full h-24 rounded border mb-2 flex items-center justify-center">
                                    <span class="text-gray-500 text-sm">Blank</span>
                                </div>
                                <p class="text-sm">Blank</p>
                            </label>
                        </div>
                        <div class="bg-card flex-1 min-w-[140px]">
                            <input type="radio" name="background" id="lined-bg" value="lined" class="hidden peer">
                            <label for="lined-bg"
                                class="flex flex-col items-center p-3 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer peer-checked:border-primary peer-checked:ring-2 peer-checked:ring-primary">
                                <div class="bg-white w-full h-24 rounded border mb-2"
                                    style="background-image: repeating-linear-gradient(to bottom, #e2e8f0, #e2e8f0 1px, transparent 1px, transparent 20px); background-size: 100% 20px;">
                                </div>
                                <p class="text-sm">Lined</p>
                            </label>
                        </div>
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">Select Ink Color</label>
                    <div class="flex flex-wrap gap-4 items-center">
                        <div class="flex items-center">
                            <div class="ink-swatch black selected" data-color="black"></div>
                            <span class="font-medium">Black</span>
                        </div>
                        <div class="flex items-center">
                            <div class="ink-swatch blue" data-color="blue"></div>
                            <span class="font-medium">Blue</span>
                        </div>
                    </div>
                    <input type="hidden" id="selected-ink" name="ink" value="black">
                </div>
                <button type="submit" id="generate-btn"
                    class="w-full bg-gradient-to-r from-primary to-secondary hover:from-secondary hover:to-primary text-white font-medium py-3 px-6 rounded-lg transition-smooth flex items-center justify-center">
                    <i class="fas fa-magic mr-2"></i> Generate Handwritten Solution
                </button>
            </form>
        </section>
        <section id="progress-section"
            class="hidden bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 mb-6 text-center">
            <div class="flex flex-col items-center justify-center">
                <div
                    class="w-20 h-20 rounded-full bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center mb-5">
                    <div class="dot-flashing"></div>
                </div>
                <h3 class="text-xl font-bold mb-2">Processing Your Assignment</h3>
                <p class="text-gray-600 dark:text-gray-300 mb-4">AI is generating handwritten solutions...</p>
                <div class="progress-container">
                    <div id="real-progress-bar" class="progress-bar"></div>
                </div>

                <div class="grid grid-cols-3 gap-4 max-w-md mx-auto">
                    <div class="text-center">
                        <div
                            class="w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center mx-auto mb-2">
                            <i class="fas fa-file-alt text-blue-600 dark:text-blue-400"></i>
                        </div>
                        <p class="text-xs">Processing</p>
                    </div>
                    <div class="text-center">
                        <div
                            class="w-10 h-10 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center mx-auto mb-2">
                            <i class="fas fa-brain text-purple-600 dark:text-purple-400"></i>
                        </div>
                        <p class="text-xs">AI Solving</p>
                    </div>
                    <div class="text-center">
                        <div
                            class="w-10 h-10 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center mx-auto mb-2">
                            <i class="fas fa-file-pdf text-green-600 dark:text-green-400"></i>
                        </div>
                        <p class="text-xs">Generating</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="download-section" class="hidden bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 mb-6">
            <div class="text-center">
                <div
                    class="w-20 h-20 rounded-full bg-gradient-to-r from-green-100 to-teal-100 dark:from-green-900/30 dark:to-teal-900/30 text-green-600 dark:text-green-400 flex items-center justify-center mx-auto mb-5">
                    <i class="fas fa-check text-3xl"></i>
                </div>
                <h3 class="text-xl font-bold mb-2">Solution Ready!</h3>
                <p class="text-gray-600 dark:text-gray-300 mb-5">Your handwritten solution PDF is ready</p>

                <div class="flex flex-wrap justify-center gap-3 mb-6">
                    <a href="#" id="download-btn"
                        class="bg-gradient-to-r from-primary to-green-600 hover:from-secondary hover:to-green-700 text-white font-medium py-3 px-6 rounded-lg transition-smooth flex items-center justify-center animate-pulse">
                        <i class="fas fa-download mr-2"></i> Download PDF
                    </a>

                    <button id="copy-link"
                        class="border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 font-medium py-3 px-6 rounded-lg transition-smooth flex items-center justify-center">
                        <i class="fas fa-link mr-2"></i> Copy Link
                    </button>
                </div>

                <button id="create-another"
                    class="bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-smooth flex items-center justify-center mx-auto">
                    <i class="fas fa-plus mr-2"></i> Create Another Solution
                </button>
            </div>
        </section>

        <section
            class="bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl shadow-xl p-5 mb-6">
            <div class="cursor-pointer flex items-center justify-between" id="how-it-works-toggle">
                <h3 class="text-lg font-bold flex items-center">
                    <i class="fas fa-question-circle text-primary mr-2"></i> How WriteMyPDF Works
                </h3>
                <i class="fas fa-chevron-down transition-transform duration-300"></i>
            </div>

            <div class="collapsible-content" id="how-it-works-content">
                <div class="mt-5 grid grid-cols-1 md:grid-cols-2 gap-5">
                    <div class="bg-white dark:bg-gray-800 rounded-xl p-5 flex">
                        <div
                            class="w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center mr-4">
                            <span class="text-blue-600 dark:text-blue-400 font-bold">1</span>
                        </div>
                        <div>
                            <h4 class="font-bold mb-1">Upload Assignment</h4>
                            <p class="text-gray-600 dark:text-gray-300 text-sm">Upload your assignment questions as PDF
                                or image</p>
                        </div>
                    </div>

                    <div class="bg-white dark:bg-gray-800 rounded-xl p-5 flex">
                        <div
                            class="w-12 h-12 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center mr-4">
                            <span class="text-purple-600 dark:text-purple-400 font-bold">2</span>
                        </div>
                        <div>
                            <h4 class="font-bold mb-1">AI Solution Generation</h4>
                            <p class="text-gray-600 dark:text-gray-300 text-sm">Our AI analyzes and solves the
                                assignment questions</p>
                        </div>
                    </div>

                    <div class="bg-white dark:bg-gray-800 rounded-xl p-5 flex">
                        <div
                            class="w-12 h-12 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center mr-4">
                            <span class="text-indigo-600 dark:text-indigo-400 font-bold">3</span>
                        </div>
                        <div>
                            <h4 class="font-bold mb-1">Handwritten Conversion</h4>
                            <p class="text-gray-600 dark:text-gray-300 text-sm">Solutions are converted to
                                natural-looking handwriting</p>
                        </div>
                    </div>

                    <div class="bg-white dark:bg-gray-800 rounded-xl p-5 flex">
                        <div
                            class="w-12 h-12 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center mr-4">
                            <span class="text-green-600 dark:text-green-400 font-bold">4</span>
                        </div>
                        <div>
                            <h4 class="font-bold mb-1">Download Solution</h4>
                            <p class="text-gray-600 dark:text-gray-300 text-sm">Download your handwritten solution as a
                                styled PDF</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700 py-6">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0 text-center md:text-left">
                    <div class="flex items-center justify-center md:justify-start">
                        <div
                            class="bg-gradient-to-r from-primary to-accent w-8 h-8 rounded-lg flex items-center justify-center mr-2">
                            <i class="fas fa-pen text-white"></i>
                        </div>
                        <span class="font-bold text-lg">WriteMyPDF</span>
                    </div>
                    <p class="text-gray-600 dark:text-gray-400 text-sm mt-1">AI-Generated Handwritten Solutions</p>
                </div>

                <div class="text-center">
                    <p class="text-gray-600 dark:text-gray-400 text-sm">
                        Made with ❤️ by
                        <a href="https://www.linkedin.com/in/tauqeer-alam" target="_blank"
                            class="text-primary hover:underline">Tauqeer Alam</a>
                    </p>
                    <p class="text-gray-500 dark:text-gray-500 text-xs mt-1">© 2025 WriteMyPDF. All rights reserved.
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        const themeToggle = document.getElementById('theme-toggle');
        const fileUploadContainer = document.getElementById('file-upload-container');
        const fileInput = document.getElementById('file');
        const uploadInitial = document.getElementById('upload-initial');
        const uploadSuccess = document.getElementById('upload-success');
        const fileNameDisplay = document.getElementById('file-name');
        const removeFileBtn = document.getElementById('remove-file');
        const form = document.getElementById('assignment-form');
        const generateBtn = document.getElementById('generate-btn');
        const uploadSection = document.getElementById('upload-section');
        const progressSection = document.getElementById('progress-section');
        const progressBar = document.getElementById('real-progress-bar');
        const downloadSection = document.getElementById('download-section');
        const downloadBtn = document.getElementById('download-btn');
        const copyLinkBtn = document.getElementById('copy-link');
        const createAnotherBtn = document.getElementById('create-another');
        const handwritingCards = document.querySelectorAll('.handwriting-card');
        const selectedHandwriting = document.getElementById('selected-handwriting');
        const howItWorksToggle = document.getElementById('how-it-works-toggle');
        const howItWorksContent = document.getElementById('how-it-works-content');
        const inkSwatches = document.querySelectorAll('.ink-swatch');
        const selectedInk = document.getElementById('selected-ink');

        let generatedPdfUrl = null;
        let generatedPdfFilename = null;
        let progressInterval = null;

        themeToggle.addEventListener('click', () => {
            document.documentElement.classList.toggle('dark');
            localStorage.setItem('theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light');
        });

        if (localStorage.getItem('theme') === 'dark' ||
            (window.matchMedia('(prefers-color-scheme: dark)').matches && !localStorage.getItem('theme'))) {
            document.documentElement.classList.add('dark');
        }

        fileUploadContainer.addEventListener('click', () => fileInput.click());
        fileInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                const file = e.target.files[0];

                if (file.size > 5 * 1024 * 1024) {
                    alert('File size exceeds 5MB limit. Please choose a smaller file.');
                    fileInput.value = '';
                    return;
                }

                fileNameDisplay.textContent = file.name;
                uploadInitial.classList.add('hidden');
                uploadSuccess.classList.remove('hidden');
                fileUploadContainer.classList.add('active');
            }
        });

        removeFileBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            fileInput.value = '';
            uploadInitial.classList.remove('hidden');
            uploadSuccess.classList.add('hidden');
            fileUploadContainer.classList.remove('active');
        });

        handwritingCards.forEach(card => {
            card.addEventListener('click', () => {
                handwritingCards.forEach(c => c.classList.remove('selected'));
                card.classList.add('selected');
                selectedHandwriting.value = "handwriting" + card.getAttribute("data-style");
            });
        });

        handwritingCards[0].classList.add('selected');

        inkSwatches.forEach(swatch => {
            swatch.addEventListener('click', () => {
                inkSwatches.forEach(s => s.classList.remove('selected'));
                swatch.classList.add('selected');
                selectedInk.value = swatch.getAttribute('data-color');
                updatePreviewInkColor(swatch.getAttribute('data-color'));
            });
        });

        function updatePreviewInkColor(color) {
            const previews = document.querySelectorAll('.handwriting-preview p');
            previews.forEach(preview => {
                if (color === 'black') {
                    preview.style.color = '#000';
                } else if (color === 'blue') {
                    preview.style.color = '#4361ee';
                }
            });
        }

        function simulateProgress() {
            let progress = 0;
            progressBar.style.width = '0%';

            return setInterval(() => {
                if (progress < 95) {
                    progress += 1;
                    progressBar.style.width = `${progress}%`;
                }
            }, 100);
        }

        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            if (!fileInput.files || fileInput.files.length === 0) {
                alert('Please upload your assignment file');
                return;
            }

            uploadSection.classList.add('hidden');
            progressSection.classList.remove('hidden');

            progressInterval = simulateProgress();

            const formData = new FormData(form);

            try {
                const response = await fetch('https://www.writemypdf.online/upload', {
                    method: 'POST',
                    body: formData
                });

                progressBar.style.width = '100%';

                if (response.ok) {
                    const blob = await response.blob();

                    generatedPdfUrl = URL.createObjectURL(blob);

                    const contentDisposition = response.headers.get('Content-Disposition');
                    generatedPdfFilename = 'WriteMyPDF.pdf';
                    if (contentDisposition && contentDisposition.indexOf('filename=') !== -1) {
                        generatedPdfFilename = contentDisposition.split('filename=')[1].replace(/"/g, '');
                    }

                    downloadBtn.href = generatedPdfUrl;
                    downloadBtn.download = generatedPdfFilename;

                    progressSection.classList.add('hidden');
                    downloadSection.classList.remove('hidden');
                    downloadSection.scrollIntoView({ behavior: 'smooth' });

                    const tempLink = document.createElement('a');
                    tempLink.href = generatedPdfUrl;
                    tempLink.download = generatedPdfFilename;
                    document.body.appendChild(tempLink);
                    tempLink.click();
                    document.body.removeChild(tempLink);
                } else {
                    const error = await response.text();
                    throw new Error(`Server error: ${response.status} - ${error}`);
                }
            } catch (error) {
                console.error('Error generating solution:', error);
                alert(`Error: ${error.message}`);
                uploadSection.classList.remove('hidden');
                progressSection.classList.add('hidden');
            } finally {
                if (progressInterval) {
                    clearInterval(progressInterval);
                }
            }
        });

        downloadBtn.addEventListener('click', (e) => {
            if (generatedPdfUrl) {
                const tempLink = document.createElement('a');
                tempLink.href = generatedPdfUrl;
                tempLink.download = generatedPdfFilename;
                document.body.appendChild(tempLink);
                tempLink.click();
                document.body.removeChild(tempLink);
            }
        });

        copyLinkBtn.addEventListener('click', () => {
            if (generatedPdfUrl) {
                navigator.clipboard.writeText(window.location.href);

                const originalText = copyLinkBtn.innerHTML;
                copyLinkBtn.innerHTML = '<i class="fas fa-check mr-2"></i> Copied!';

                setTimeout(() => {
                    copyLinkBtn.innerHTML = originalText;
                }, 2000);
            } else {
                alert('No solution generated yet');
            }
        });

        createAnotherBtn.addEventListener('click', () => {

            if (generatedPdfUrl) {
                URL.revokeObjectURL(generatedPdfUrl);
                generatedPdfUrl = null;
                generatedPdfFilename = null;
            }

            downloadSection.classList.add('hidden');
            uploadSection.classList.remove('hidden');

            form.reset();
            fileInput.value = '';
            uploadInitial.classList.remove('hidden');
            uploadSuccess.classList.add('hidden');
            fileUploadContainer.classList.remove('active');

            handwritingCards.forEach(card => card.classList.remove('selected'));
            handwritingCards[0].classList.add('selected');
            selectedHandwriting.value = 'handwriting1';

            inkSwatches.forEach(swatch => swatch.classList.remove('selected'));
            document.querySelector('.ink-swatch.black').classList.add('selected');
            selectedInk.value = 'black';
            updatePreviewInkColor('black');

            document.getElementById('blank-bg').checked = true;

            uploadSection.scrollIntoView({ behavior: 'smooth' });
        });

        fileUploadContainer.addEventListener('dragover', (e) => {
            e.preventDefault();
            fileUploadContainer.classList.add('active');
        });

        fileUploadContainer.addEventListener('dragleave', () => {
            fileUploadContainer.classList.remove('active');
        });

        fileUploadContainer.addEventListener('drop', (e) => {
            e.preventDefault();
            if (e.dataTransfer.files.length) {
                fileInput.files = e.dataTransfer.files;
                const event = new Event('change', { bubbles: true });
                fileInput.dispatchEvent(event);
            }
        });

        howItWorksToggle.addEventListener('click', () => {
            const icon = howItWorksToggle.querySelector('i');
            icon.classList.toggle('fa-chevron-down');
            icon.classList.toggle('fa-chevron-up');

            if (howItWorksContent.style.maxHeight) {
                howItWorksContent.style.maxHeight = null;
            } else {
                howItWorksContent.style.maxHeight = howItWorksContent.scrollHeight + "px";
            }
        });
    </script>
</body>

</html>
